<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=author content="Liste - https://www.bodunhu.com/blog/">
<title>Deploy Hugo Site to GitHub Pages | std::bodun::blog</title>
<meta name=description content="This post assumes the user has already setup two separate repositories: a private repository for Hugo source files, and a public repository for [GitHub Pages](https://pages.github.com/).">
<meta property="og:title" content="Deploy Hugo Site to GitHub Pages">
<meta property="og:description" content="This post assumes the user has already setup two separate repositories: a private repository for Hugo source files, and a public repository for [GitHub Pages](https://pages.github.com/).">
<meta property="og:type" content="article">
<meta property="og:url" content="https://www.bodunhu.com/blog/posts/deploy-hugo-site-to-github-pages/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-08-27T00:00:00+00:00">
<meta property="article:modified_time" content="2021-10-05T01:26:18-05:00">
<meta itemprop=name content="Deploy Hugo Site to GitHub Pages">
<meta itemprop=description content="This post assumes the user has already setup two separate repositories: a private repository for Hugo source files, and a public repository for [GitHub Pages](https://pages.github.com/)."><meta itemprop=datePublished content="2021-08-27T00:00:00+00:00">
<meta itemprop=dateModified content="2021-10-05T01:26:18-05:00">
<meta itemprop=wordCount content="325">
<meta itemprop=keywords content="hugo,how-to,">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Deploy Hugo Site to GitHub Pages">
<meta name=twitter:description content="This post assumes the user has already setup two separate repositories: a private repository for Hugo source files, and a public repository for [GitHub Pages](https://pages.github.com/).">
<meta name=twitter:site content="@https://twitter.com/BodunHu">
<link rel=canonical href=https://www.bodunhu.com/blog/posts/deploy-hugo-site-to-github-pages/>
<meta name=monetization content="$twitter.xrptipbot.com/ronaldsvilcins">
<link rel=dns-prefetch href=https://www.google-analytics.com>
<link href=https://www.google-analytics.com rel=preconnect crossorigin>
<link rel=alternate type=application/atom+xml title=std::bodun::blog href=https://www.bodunhu.com/blog/atom.xml>
<link rel=alternate type=application/json title=std::bodun::blog href=https://www.bodunhu.com/blog/feed.json>
<link rel="shortcut icon" href=/blog/images/favicon.ico type=image/x-icon>
<style>*,:after,:before{box-sizing:border-box;padding:0}body{font:1rem/1.5 '-apple-system',BlinkMacSystemFont,avenir next,avenir,helvetica,helvetica neue,ubuntu,roboto,noto,segoe ui,arial,sans-serif;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;padding:2rem;color:#000}.skip-link{position:absolute;top:-40px;left:0;background:#eee;z-index:100}.skip-link:focus{top:0}h1,h2,h3,h4,h5,strong,b{font-size:inherit;font-weight:600}header{line-height:2;padding-bottom:1.5rem}.link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-decoration:none}.time{font-variant-numeric:tabular-nums;white-space:nowrap}blockquote{border-left:5px solid #eee;padding-left:1rem;margin:0}a,a:visited{color:inherit}a:hover,a.heading-link{text-decoration:none}pre{padding:.5rem;overflow:auto;overflow-x:scroll;overflow-wrap:normal}code,pre{font-family:San Francisco Mono,Monaco,consolas,lucida console,dejavu sans mono,bitstream vera sans mono,monospace;font-size:normal;font-size:small;background:#eee}code{padding:.1rem;border:none}ul{list-style-type:square}ul,ol{padding-left:1.2rem}.list{line-height:2;list-style-type:none;padding-left:0}.list li{padding-bottom:.1rem}.meta{color:#777}.content{max-width:70ch;margin:0 auto}header{line-height:2;display:flex;justify-content:space-between;padding-bottom:1rem}header a{text-decoration:none}header ul{list-style-type:none;padding:0}header li,header a{display:inline}h2.post{padding-top:.5rem}header ul a:first-child{padding-left:1rem}.nav{height:1px;background:#000;content:'';max-width:10%}.list li{display:flex;align-items:baseline}.list li time{flex:initial}.hr-list{margin-top:0;margin-bottom:0;margin-right:.5rem;margin-left:.5rem;height:1px;border:0;border-bottom:1px dotted #ccc;flex:1 0 1rem}.hr-list-none{margin-top:0;margin-bottom:0;margin-right:.5rem;margin-left:.5rem;height:1px;border:0;border-bottom:1px #ccc;flex:1 0 1rem}.m,hr{border:0;margin:3rem 0}img{max-width:100%;height:auto}</style>
<script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"posts","name":"Deploy Hugo Site to GitHub Pages","headline":"Deploy Hugo Site to GitHub Pages","alternativeHeadline":"","description":"This post assumes the user has already setup two separate repositories: a private repository for Hugo source files, and a public repository for [GitHub Pages](https:\/\/pages.github.com\/).","inLanguage":"en-us","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.bodunhu.com\/blog\/posts\/deploy-hugo-site-to-github-pages\/"},"author":{"@type":"Person","name":""},"creator":{"@type":"Person","name":""},"accountablePerson":{"@type":"Person","name":""},"copyrightHolder":"std::bodun::blog","copyrightYear":"2021","dateCreated":"2021-08-27T00:00:00.00Z","datePublished":"2021-08-27T00:00:00.00Z","dateModified":"2021-10-05T01:26:18.00Z","publisher":{"@type":"Organization","name":"std::bodun::blog","url":"https://www.bodunhu.com/blog/","logo":{"@type":"ImageObject","url":"https:\/\/www.bodunhu.com\/blog\/","width":"32","height":"32"}},"image":"https://www.bodunhu.com/blog/","url":"https:\/\/www.bodunhu.com\/blog\/posts\/deploy-hugo-site-to-github-pages\/","wordCount":"325","genre":["hugo","how-to"],"keywords":["hugo","how-to"]}</script>
<script>MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']]},svg:{fontCache:'global'}}</script>
<script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js></script>
</head>
<body>
<a class=skip-link href=#main>Skip to main</a>
<main id=main>
<div class=content>
<header>
<p style=padding:0;margin:0><a href=/blog/><b>std::bodun::blog</b></a></p>
<ul style=padding:0;margin:0>
<li><a href=https://www.bodunhu.com/>About</a></li>
</ul>
</header>
<hr class=hr-list style=padding:0;margin:0>
<h2 class=post>Deploy Hugo Site to GitHub Pages</h2>
<p>This post assumes the user has already setup two separate repositories: a private repository for Hugo source files, and a public repository for <a href=https://pages.github.com/>GitHub Pages</a>.</p>
<p><em>Note: test Hugo site by executing <code>hugo server</code> in the source code directory to make sure the site is generated properly.</em></p>
<p>Then, we need to generate a pair of keys by using the following command:</p>
<pre><code class=language-bash>ssh-keygen -t rsa -b 4096 -C &quot;$(git config user.email)&quot; -f deployment -N &quot;&quot;
</code></pre>
<p>This will create two files: <code>deployment</code> and <code>deployment.pub</code>, which corresponds to a private key and a public key.</p>
<p>Next, execute <code>cat deployment</code> and copy the private key. Navigate to the private <em>source repository -> Settings -> Secrets -> New repository secret</em>. Paste the private key and save the change.</p>
<p>
<p class=markdown-image style=text-align:center>
<img src=https://raw.githubusercontent.com/BDHU/Page_pics/master/posts/deploy-hugo-site-to-github-pages/github-actions-secrets.png alt=Github-actions-secrets class=center loading=lazy decoding=async>
</p></p>
<p>I&rsquo;ve already added the private key to the source directory and named it <code>PRIVATE_KEY</code>. You can named it however you want.</p>
<p>Then, we go to the public repository for hosting our website. Navigate to the public <em>site repository -> Settings -> Deploy keys -> Add deploy key</em>. Execute <code>cat deployment.pub</code> and copy paste the result. You should see a SSH key added:</p>
<p>
<p class=markdown-image style=text-align:center>
<img src=https://raw.githubusercontent.com/BDHU/Page_pics/master/posts/deploy-hugo-site-to-github-pages/github-keys.png alt=Github-keys class=center loading=lazy decoding=async>
</p></p>
<p>Finally, create a directory in the private repository in the following directory: <code>.github/workflows/deploy.yml</code>.</p>
<pre><code class=language-yaml>name: github pages

on:
  push:
    branches:
      - main  # Set a branch to deploy
  pull_request:

jobs:
  deploy:
    runs-on: ubuntu-20.04
    steps:
      - uses: actions/checkout@v2
        with:
          submodules: true  # Fetch Hugo themes (true OR recursive)
          fetch-depth: 0    # Fetch all history for .GitInfo and .Lastmod

      - name: Setup Hugo
        uses: peaceiris/actions-hugo@v2
        with:
          hugo-version: '0.83.0'
          # hugo-version: 'latest'
          # extended: true

      - name: Build
        run: hugo --minify

      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
        with:
          deploy_key: ${{ secrets.PRIVATE_KEY }}
          external_repository: your_username/public_repository_name
          publish_branch: branch_to_publish
          publish_dir: ./public
</code></pre>
<p>Finally, make sure you create a file named <code>.nojekyll</code> in the root directory of the public repository to prevent GitHub Pages from building the site using Jekyll.</p>
<p>Every time you make commits to the private repository, the site will be automatically generated and published on the public repository.</p>
<hr class=hr-list>
<footer>
<p>Â© 2016-2021 <a href=https://www.bodunhu.com/>Bodun Hu</a>. All rights reserved. <a href=/blog/index.xml>Subscribe</a></p>
</footer>
</div>
</main>
</body>
</html>